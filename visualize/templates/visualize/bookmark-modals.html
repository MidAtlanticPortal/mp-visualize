
<!-- BOOKMARK SHARE MODAL -->

<div id="bookmark-share-modal" class="modal fade" data-bind="with: app.viewModel.bookmarks" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h3>Sharing</h3>
        </div>
        <div class="modal-body">
            <div role="tabpanel">
                <ul class="nav nav-tabs" role="tablist">
                    <li role="presentation" class="active"><a href="#share-link" aria-controls="share-link" role="tab" data-toggle="tab">Link</a></li>
                    <li role="presentation"><a href="#share-groups" aria-controls="share-groups" role="tab" data-toggle="tab">Groups</a></li>
                </ul>
            </div>
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="share-link">
                    <div>
                        <label for="short-url" class="">
                            URL
                            <label class="pull-right">
                                <input class="short-url-checkbox" type="checkbox" data-bind="checked: shrinkBookmarkURL" style="margin-top: 0px; margin-bottom: 3px">
                                Short URL
                            </label>
                        </label>


                        <input id="short-url" class="form-control" type="text" readonly data-bind="attr: {value: getCurrentBookmarkURL()}, css: {'change-url': shrinkBookmarkURL}">
                    </div>

                    <div>
                        <label for="iframe-html">
                            Embedded Map
                        </label>

                        <textarea class="form-control" rows="8" data-bind="text: app.viewModel.mapLinks.getIFrameHTML()">
                        </textarea>
                    </div>

<!--                     <div>
                        <button class="btn btn-default" data-bind="click: app.viewModel.bookmarks.openBookmarkIFrameExample">
                            <i class="fa fa-globe"></i> Preview embedded map
                        </button>
                    </div>  -->

                </div>
                <div role="tabpanel" class="tab-pane" id="share-groups">
                    <h4 class="sharing-header">Share my bookmark with the following:</h4>
                    <ul class="unstyled" id="bookmark-sharing-groups" style="margin-left: 1px; height: 165px; outline: none;">
                        <span data-bind="foreach: app.viewModel.scenarios.sharingGroups">
                            <li><div style="text-align: left; margin-left: 50px;"><div class="share-checkbox" data-bind="click: $parent.toggleGroup">
                                <i class="far" data-bind="css: {'fa-check-square': $parent.groupIsSelected(group_name),
                                                               'fa-square': !$parent.groupIsSelected(group_name)}"
                                   style="width: 14px;"></i>

                                <span data-bind="text: group_name"></span>
                                <a class="group-members-popover" rel="popover"
                                   data-bind="attr: {'data-content': $parent.groupMembers(group_name)}"
                                   data-original-title="Members">
                                    <i class="fa fa-group"></i>
                                </a>
                            </div></div></li>
                        </span>
                    </ul>
                    <button href="#" class="btn" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn-submit btn" data-bind="click: submitShare" data-dismiss="modal">Share</button>
                </div>

            </div>
        </div>
        <div class="modal-footer">
            <button href="#" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
    </div>
    </div>
</div>


<!-- BOOKMARK MAP LINKS MODAL -->

<div style="display:none; width: 450px;" id="bookmark-map-links-modal" class="modal hide fade" data-bind="with: app.viewModel.bookmarks">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h3>Map Links</h3>
    </div>

    <div class="modal-body" style="height: 165px; overflow: hidden">
        <div class="row-fluid" style="padding-top: 5px">
            <div>
                Paste Link in email or browser
                <span class="pull-right">
                    <label>
                        <input class="short-url-checkbox" type="checkbox" data-bind="checked: shrinkBookmarkURL" style="margin-top: 0px; margin-bottom: 3px">
                        Short URL
                    </label>
                </span>
            </div>
            <div>
                <input id="bookmark-short-url" type="text" style="width: 96%" data-bind="attr: {value: getCurrentBookmarkURL}">
            </div>
            <div style="padding-top: 12px; padding-bottom: 5px">
                Paste HTML to embed in website
            </div>
            <div>
                <input id="bookmark-iframe-html" type="text" style="width: 96%" data-bind="attr: {value: setBookmarkIFrameHTML}">
            </div>
            <div style="margin-top: -4px">
                <a href="#" data-bind="click: openBookmarkIFrameExample">
                    Customize and preview embedded map
                </a>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button href="#" class="btn" data-dismiss="modal">Close</button>
    </div>
</div>
